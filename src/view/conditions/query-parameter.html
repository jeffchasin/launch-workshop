<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Condition</title>
  <link rel="stylesheet" href="../global.css">
</head>
<body>
  <form>
    <section>
      <label class="u-gapRight">
        <span class="label">Query Parameter Name</span>
        <input id="name">
      </label>
      <label>
        <span class="label">Query Parameter Value</span>
        <input id="value">
      </label>
    </section>
  </form>

  <script src="//assets.adobedtm.com/activation/reactor/extensionbridge/extensionbridge.min.js"></script>
  <script>
    window.extensionBridge.register({
      init: function(info) {
        document.getElementById('name').value =
          (info.settings && info.settings.queryParam) || '';
        document.getElementById('value').value =
          (info.settings && info.settings.queryParamValue) || '';
      },

      getSettings: function() {
        return {
          queryParam: document.getElementById('name').value || '',
          queryParamValue: document.getElementById('value').value || ''
        };
      },

      validate: function() {
        var nameField = document.getElementById('name');
        var valueField = document.getElementById('value');

        nameField.invalid = !nameField.value;
        valueField.invalid = !valueField.value;

        return !nameField.invalid && !valueField.invalid;
      }
    });
  </script>
</body>
</html>
